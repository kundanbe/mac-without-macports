diff --git a/src/corelib/plugin/qlibrary_unix.cpp b/src/corelib/plugin/qlibrary_unix.cpp
index 1db260b..22bc9d9 100644
--- a/src/corelib/plugin/qlibrary_unix.cpp
+++ b/src/corelib/plugin/qlibrary_unix.cpp
@@ -44,7 +44,7 @@
 
 #ifndef QT_NO_LIBRARY
 
-#ifdef Q_OS_MAC
+#ifdef Q_WS_MAC
 #  include <private/qcore_mac_p.h>
 #endif
 
@@ -173,7 +173,7 @@ bool QLibraryPrivate::load_sys()
     } 
 #if !defined(Q_OS_CYGWIN)
     else {
-#if defined(Q_OS_MAC)
+#if defined(Q_WS_MAC)
         if (QSysInfo::MacintoshVersion >= QSysInfo::MV_10_4)
 #endif        
         dlFlags |= RTLD_LOCAL;
@@ -212,7 +212,7 @@ bool QLibraryPrivate::load_sys()
         }
     }
 
-#ifdef Q_OS_MAC
+#ifdef Q_WS_MAC
     if (!pHnd) {
         if (CFBundleRef bundle = CFBundleGetBundleWithIdentifier(QCFString(fileName))) {
             QCFType<CFURLRef> url = CFBundleCopyExecutableURL(bundle);
@@ -242,7 +242,7 @@ bool QLibraryPrivate::unload_sys()
     return true;
 }
 
-#ifdef Q_OS_MAC
+#ifdef Q_WS_MAC
 Q_CORE_EXPORT void *qt_mac_resolve_sys(void *handle, const char *symbol)
 {
     return dlsym(handle, symbol);
